{"ast":null,"code":"import axios from 'axios';\nimport { useState, useEffect } from 'react';\nconst CLIENT_ID = '734bd31883e6461bb81507e1075c9847';\nconst REDIRECT_URI = 'http://localhost:3000';\nconst AUTH_ENDPOINT = 'https://accounts.spotify.com/authorize';\nconst RESPONSE_TYPE = 'token';\nconst SCOPES = 'playlist-modify-private playlist-modify-public';\nexport const loginUrl = `${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&scope=${SCOPES}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}`;\nconst [token, setToken] = useState('');\nexport const [data, setData] = useState();\nconst [searchKey, setSearchKey] = useState('');\nuseEffect(() => {\n  const hash = window.location.hash;\n  let token = window.localStorage.getItem('token');\n  if (!token && hash) {\n    token = hash.substring(1).split(\"&\").find(elem => elem.startsWith('access_token')).split('=')[1];\n    window.location.hash = '';\n    window.localStorage.setItem('token', token);\n  }\n  setToken(token);\n}, []);\nexport const logout = () => {\n  setToken('');\n  window.localStorage.removeItem('token');\n};\nexport const searchArtists = async e => {\n  e.preventDefault();\n  const response = await axios.get(\"https://api.spotify.com/v1/search\", {\n    headers: {\n      Authorization: `Bearer ${token}`\n    },\n    params: {\n      q: searchKey,\n      type: 'track'\n    }\n  });\n  setData(response.data.tracks.items);\n};","map":{"version":3,"names":["axios","useState","useEffect","CLIENT_ID","REDIRECT_URI","AUTH_ENDPOINT","RESPONSE_TYPE","SCOPES","loginUrl","token","setToken","data","setData","searchKey","setSearchKey","hash","window","location","localStorage","getItem","substring","split","find","elem","startsWith","setItem","logout","removeItem","searchArtists","e","preventDefault","response","get","headers","Authorization","params","q","type","tracks","items"],"sources":["/Users/jackhughes/JackEH2112.github.io/CCProjects/jammming/src/utilities.js"],"sourcesContent":["import axios from 'axios';\nimport {useState, useEffect} from 'react';\n\nconst CLIENT_ID = '734bd31883e6461bb81507e1075c9847'\nconst REDIRECT_URI = 'http://localhost:3000'\nconst AUTH_ENDPOINT = 'https://accounts.spotify.com/authorize'\nconst RESPONSE_TYPE = 'token'\nconst SCOPES = 'playlist-modify-private playlist-modify-public'\n\nexport const loginUrl = `${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&scope=${SCOPES}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}`\n\nconst [token, setToken] = useState('')\nexport const [data, setData] = useState()\nconst [searchKey, setSearchKey] = useState('');\n\nuseEffect(() => {\nconst hash = window.location.hash\nlet token = window.localStorage.getItem('token')\n\nif(!token && hash) {\n    token = hash.substring(1).split(\"&\").find(elem => elem.startsWith('access_token')).split('=')[1]\n\n    window.location.hash = ''\n    window.localStorage.setItem('token', token)\n}\nsetToken(token)\n},[])\n\nexport const logout = () => {\n    setToken('')\n    window.localStorage.removeItem('token')\n}\n\nexport const searchArtists = async (e) => {\n    e.preventDefault(); \n    const response = await axios.get(\"https://api.spotify.com/v1/search\", {\n        headers: {\n        Authorization: `Bearer ${token}`\n        },\n        params: {\n        q: searchKey,\n        type: 'track'\n        }\n    })\n    setData(response.data.tracks.items);\n}\n\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAEzC,MAAMC,SAAS,GAAG,kCAAkC;AACpD,MAAMC,YAAY,GAAG,uBAAuB;AAC5C,MAAMC,aAAa,GAAG,wCAAwC;AAC9D,MAAMC,aAAa,GAAG,OAAO;AAC7B,MAAMC,MAAM,GAAG,gDAAgD;AAE/D,OAAO,MAAMC,QAAQ,GAAI,GAAEH,aAAc,cAAaF,SAAU,UAASI,MAAO,iBAAgBH,YAAa,kBAAiBE,aAAc,EAAC;AAE7I,MAAM,CAACG,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;AACtC,OAAO,MAAM,CAACU,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,CAAC;AACzC,MAAM,CAACY,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;AAE9CC,SAAS,CAAC,MAAM;EAChB,MAAMa,IAAI,GAAGC,MAAM,CAACC,QAAQ,CAACF,IAAI;EACjC,IAAIN,KAAK,GAAGO,MAAM,CAACE,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAEhD,IAAG,CAACV,KAAK,IAAIM,IAAI,EAAE;IACfN,KAAK,GAAGM,IAAI,CAACK,SAAS,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,UAAU,CAAC,cAAc,CAAC,CAAC,CAACH,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAEhGL,MAAM,CAACC,QAAQ,CAACF,IAAI,GAAG,EAAE;IACzBC,MAAM,CAACE,YAAY,CAACO,OAAO,CAAC,OAAO,EAAEhB,KAAK,CAAC;EAC/C;EACAC,QAAQ,CAACD,KAAK,CAAC;AACf,CAAC,EAAC,EAAE,CAAC;AAEL,OAAO,MAAMiB,MAAM,GAAGA,CAAA,KAAM;EACxBhB,QAAQ,CAAC,EAAE,CAAC;EACZM,MAAM,CAACE,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;AAC3C,CAAC;AAED,OAAO,MAAMC,aAAa,GAAG,MAAOC,CAAC,IAAK;EACtCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClB,MAAMC,QAAQ,GAAG,MAAM/B,KAAK,CAACgC,GAAG,CAAC,mCAAmC,EAAE;IAClEC,OAAO,EAAE;MACTC,aAAa,EAAG,UAASzB,KAAM;IAC/B,CAAC;IACD0B,MAAM,EAAE;MACRC,CAAC,EAAEvB,SAAS;MACZwB,IAAI,EAAE;IACN;EACJ,CAAC,CAAC;EACFzB,OAAO,CAACmB,QAAQ,CAACpB,IAAI,CAAC2B,MAAM,CAACC,KAAK,CAAC;AACvC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}